
<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>בדיקת יאכטה - לפקדה 2025</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-blue-50 min-h-screen p-6 font-sans">
  <h1 class="text-3xl font-bold text-center text-blue-900 mb-8">בדיקת יאכטה - לפקדה 2025</h1>

  <div class="max-w-4xl mx-auto space-y-8">
    <!-- JS will inject checklist sections here -->
  </div>

  <script>
    const checklist = {
      "מקרר": [
        " לבדוק שהוא מקרר ומאוורר, זכרו לחזור אליו בתום התהליך כדי לוודא שהוא אכן מקרר."
      ],
      "חשמל": [
        "הכרת מיקום המצברים.",
        "עם העלייה לסירה, נתקו את כבל מתח החוף והדליקו את כל המכשירים החשמליים, המטרה היא לדמות עגינה במפרץ למספר שעות.",
        "בדקו מתח מצברים ללא טעינת חוף או מנוע (צריך להיות מעל 12 וולט בעומס מלא).",
        "וודאו כי המנוע / גנרטור / מטען מתח חוף טוענים את המצברים כראוי (מתח מעל 13.5 וולט).",
        "הכירו את כל פאנל המתגים הראשי של לוח החשמל ואת מפסקי הפחת של המערכות השונות.",
        "וידוא תקינות כלל התאורות ומיקום מתגים כולל: תאורת סיפון, תאורת פנים, אורות ניווט ועגינה.",
        "הימצאות מחברים שונים לשקעי מתח חוף מתאימים."
      ],
      "ציוד ומכשירי ניוט": [
        "GPS - עובד ותקין.",
        "מד עומק – לבדוק שתקין, מהיכן נמדד העומק (פני המים או תחתית הסירה) ואופן הפעלת התראות.",
        "ללמוד להפעיל מכשירי הניווט ולדעת להשתמש בהם כראוי.",
        "לוודא כי מכשירי הניווט הינם בשפה מוכרת (אנגלית).",
        "בדוק הגה אוטומטי פועל כראוי (לחצו AUTO ו-10+, וודאו שגלגל ההגה מסתובב), בדיקת כפתור הוצאה ממצב אוטומט (stand by).",
        "להדליק מכשיר קשר - ביצוע בדיקות קשר - VHF.",
        "לוודא שיש בסירה מפות נייר המתאימות לאזור ההפלגה.",
        "סט ניווט - סרגל מקבילים, מחוגה ומצפן ידני, עיפרון, מחק, משקפת.",
        "לוודא שיש בסירה פיילוט בוק של אזור ההפלגה."
      ],
      "עוגן": [
        "מיקום שלט העוגן.",
        "לבדוק מה אורך שרשרת העוגן וסימוני אורך.",
        "לוודא שהעוגן מחובר לשרשרת ואיבטוח השרשרת בחבל לגוף הסירה.",
        "כדאי להוריד ולהרים לפחות 10 מטר כדי לראות שכננת העוגן תקינה ולא \"מתעייפת\" בזמן הרמה.",
        "מיקום הימצאות מתג הפעלת עוגן בלוח החשמל ומיקום הפיוז של כננת העוגן.",
        "חשוב להכיר כיצד ניתן להוריד עוגן בחירום."
      ],
      "מפרשים ומערך": [
        "בדקו את שלמותם של המפרשים ובדקו האם ניתן לפתוח ולסגור אותם בקלות.",
        "בקשו מנציג חברת ההשכרה להראות לכן כיצד מצמצמים את המפרש הראשי.",
        "הכירו את מערך החבלים המגיעים לקוקפיט (ניתן לסמן עם נייר דבק וטוש).",
        "שימו לב למצבם של חבלי השליטה והגלגלות השונות, וודאו כי הם אינם בלויים ושחוקים.",
        "מקום הימצאות 2 ידיות ווינצ'.",
        "אופן הפעלת ווינצ' חשמלי."
      ],
      "מנוע": [
        "התנעה והדממת מנוע.",
        "בדיקת שמן ומים ופליטת מי ים לאחר התנעה.",
        "בדיקת כיוון הסחה (ימין/שמאל), הצמדות אחורה וקדימה – ברציף.",
        "מיקום סגירת ברז דלק והדממת חירום.",
        "ללמוד את מערכות המנוע ומהו הסל\"ד המומלץ להפלגה, לעבודה (הרמת עוגן) וטעינת חשמל.",
        "לוודא שמיכל הדלק מלא לפני היציאה, חשוב לתדרך את הצוות לגבי הפתחים השונים בסיפון (פתח מילוי מים ופתח מילוי דלק).",
        "בדקו היכן נמצאת משאבת השיפוליים (בילג') ובדקו שהיא עובדת לפי הצורך!"
      ],
      "סיפון וניראות חיצונית": [
        "בדיקת שלמות גוף הספינה וסימון מפגעים במידה ויש.",
        "כבלי המעקה (ריילינג) מאובטחים ומתוחים והעמודים אינם מכופפים.",
        "לתעד כל דבר שלא נראה תקין לפני היציאה לים.",
        "לצלם סרטון ווידאו ותמונות של דפנות ותחתית היאכטה לפני היציאה לים.",
        "במידה ואינכם רוצים לצלול במי מרינה עכורים, בקשו מחברת ההשכרה 12 שעות \"חסד\" כדי לדווח על מצבה של תחתית היאכטה.",
        "פנדרים - לפחות 3 בכל צד ואחד בירכתיים. בדקו כי הם קשורים היטב (זכרו כי זה נחשב \"נתיק מן הסירה\" ולרוב אינה מכוסה בפיקדון)."
      ],
      "ציוד ימאות": [
        "וודאו שקיימת תיקיה עם מסמכי הספינה: רישיון, ביטוח, מפרט וכו' (לא ניתן לצאת מהמרינה ללא תיקייה זו, נדרש להציגה בכל מעגנה בה נעגון).",
        "בדיקת הימצאות כל ציוד הבטיחות ומה שצריך תקין ובתוקף:", "עוגן רזרבי", "גנץ'", "ידיות וינץ'", "הגה חירום", "רתמות בטיחות", "חגורות הצלה", "ערכת כלים בסיסית", "סימני יום", "דגלי קוד", "חלקי חילוף", "פנס", "שנורקל ומסיכה (לא קיים בכל חברה)", "ערכת עזרה ראשונה, מטפי כיבוי אש ושמיכת כיבוי.",
        "וודאו שיש לפחות 4 חבלי התקשרות (קצרים לרציפים וארוכים לעגינה ים תיכונית): מיקום חבלי התקשרות באורך 20 מטר, מיקום חבל התקשרות 50 מטר.",
        "וודאו כי חגורות ההצלה נגישות, הרפסודה תקינה ומאובטחת ואתם יודעים כיצד להפעיל אותה במקרה חירום.",
        "צינור מים + מחבר לברז – למילוי מיכלי מים ושטיפת סיפון.",
        "כבש מעבר (גשר) תקין וחבלי איבטוח למשך ההפלגה."
      ],
      "דינגי": [
        "וודאו כי הדינגי תקינה ומנופחת וללא בריחת אוויר.",
        "קיימת משאבה ידנית לניפוח וערכת תיקון פנצ'רים.",
        "קיימים משוטים ומושב תקינים.",
        "מנוע דינגי מאובטח, קשור, מניע ועובד, כבל הדממת חירום, מיכל דלק לדינגי מלא.",
        "וודאו כי אתם וחברי הצוות יודעים להפעיל את המנוע החיצון.",
        "וודאו כי יש לכם מספיק חבלים כדי לאבטח את הדינגי."
      ],
      "מים, ברזים, מקלחות ושירותים": [
        "מיקום משאבת הבילג' ובדיקת מצבים אוטומט וידני.",
        "מיקום משאבת המים בסירה וכיצד ניתן להחליף בין מיכלי מים שונים בעת הצורך.",
        "מיקום פתחי מילוי מים ומפתח מתאים לפתיחת המיכלים.",
        "בדיקת כמות המים במיכלים ומילוי מיכלים לפני היציאה לים.",
        "וידוא תקינות משאבות ניקוז במקלחות, וכי זרם המים בברזים ומקלחות תקין.",
        "בדיקת ירידת מים באסלה, יש לבדוק את כל תאי השירותים, שאבו/שטפו לפחות 3 פעמים כדי לוודא את תקינותם.",
        "מיקום ברזי HOLDING TANK (מיכלי האגירה של השירותים) וכי ניתן לסגור ולפתוח את כל מיכלי האגירה.",
        "הכרת כלל מיקומי סי קוקים ביאכטה."
      ],
      "מטבח": [
        "לבדוק שיש מספיק כלים לבישול וכלי אוכל.",
        "הפעילו את התנור והכיריים (להדלקת הכיריים כדאי להיעזר במצית ארוכה!).",
        "מיקום ניקוז מקרר.",
        "וידוא שני בלוני גז מלאים ומיקומם.",
        "מפסק גז ראשי, אופן סגירת מיכל גז, החלפת בלון.",
        "וידוא טלטול התנור ונעילה תקינה."
      ],
      "ציוד אפשרי נוסף": [
        "גנרטור - אופן הפעלה, כיבוי, צריכת דלק ושעות עבודה.",
        "מתפיל מים - אופן הפעלה, כיבוי, הספק, תקלות אפשריות.",
        "ברז מי ים (כיור מטבח) - אופן הסגירה ומיקום דוושת שאיבה.",
        "מזגן - אופן הפעלה וכיבוי, פאנל שליטה, מתח נדרש.",
        "סאפ מתנפח – הימצאות משוט, בדיקת תקינות ומילוי אוויר, חבל קשירה לריילינג."
      ]
    };

    const container = document.querySelector('div');

    Object.entries(checklist).forEach(([section, items]) => {
      const sectionDiv = document.createElement('div');
      sectionDiv.className = 'bg-white rounded-xl shadow-md p-6';

      const title = document.createElement('h2');
      title.className = 'text-xl font-bold text-blue-800 mb-4';
      title.innerText = section;
      sectionDiv.appendChild(title);

items.forEach((text, index) => {
  const row = document.createElement('div');
  row.className = 'border-b py-4 space-y-2';

  const topRow = document.createElement('div');
  topRow.className = 'flex justify-between items-center';

  const label = document.createElement('label');
  label.className = 'text-right font-medium';
  label.innerText = text;

  const checkbox = document.createElement('input');
  checkbox.type = 'checkbox';
  checkbox.className = 'toggle toggle-success transform scale-150';
  const checkboxId = `${section}-${index}`;
  checkbox.id = checkboxId;

  const saved = localStorage.getItem(checkboxId);
  if (saved === 'true') checkbox.checked = true;

  checkbox.addEventListener('change', () => {
    localStorage.setItem(checkboxId, checkbox.checked);
  });

  topRow.appendChild(label);
  topRow.appendChild(checkbox);
  row.appendChild(topRow);

  // Text input
  const input = document.createElement('input');
  input.type = 'text';
  input.placeholder = 'הערה חופשית';
  input.className = 'w-full p-2 border rounded';

  const savedText = localStorage.getItem(checkboxId + '-note');
  if (savedText) input.value = savedText;

  input.addEventListener('input', () => {
    localStorage.setItem(checkboxId + '-note', input.value);
  });
  row.appendChild(input);

  // Dropdown status
  const select = document.createElement('select');
select.className = 'mt-2 w-full p-2 border rounded';

// Add placeholder option
const placeholder = document.createElement('option');
placeholder.value = '';
placeholder.disabled = true;
placeholder.selected = true;
placeholder.innerText = 'בחר סטטוס';
select.appendChild(placeholder);

// Add actual options
['תקין', 'לא תקין', 'בעיה - תיאור'].forEach(optionText => {
  const option = document.createElement('option');
  option.value = optionText;
  option.innerText = optionText;
  select.appendChild(option);
});

  const savedStatus = localStorage.getItem(checkboxId + '-status');
  if (savedStatus) select.value = savedStatus;

  select.addEventListener('change', () => {
    localStorage.setItem(checkboxId + '-status', select.value);
  });

  row.appendChild(select);

  // 🖼️ Image upload
  const fileInput = document.createElement('input');
  fileInput.type = 'file';
  fileInput.accept = 'image/*';
  fileInput.className = 'mt-2';

  const imgPreview = document.createElement('img');
  imgPreview.className = 'mt-2 max-h-40 rounded';
  imgPreview.alt = 'תמונה של הבעיה';

  const savedImg = localStorage.getItem(checkboxId + '-img');
  if (savedImg) {
    imgPreview.src = savedImg;
    row.appendChild(imgPreview);
  }

  fileInput.addEventListener('change', (e) => {
    const file = e.target.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = () => {
      localStorage.setItem(checkboxId + '-img', reader.result);
      imgPreview.src = reader.result;
    };
    reader.readAsDataURL(file);
  });

  row.appendChild(fileInput);
  row.appendChild(imgPreview);

  sectionDiv.appendChild(row);
});

      container.appendChild(sectionDiv);
    });
  </script>

<div class="max-w-4xl mx-auto mt-12 bg-white rounded-xl shadow-md p-6">
  <h2 class="text-xl font-bold text-blue-800 mb-4">הערות חופשיות</h2>
  <textarea id="notes" class="w-full h-48 p-3 border rounded resize-y" placeholder="כתוב כאן הערות או תובנות..."></textarea>
  <button onclick="saveNotes()" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
    שמור הערות
  </button>
</div>

<script>
  const notesBox = document.getElementById('notes');
  const savedNotes = localStorage.getItem('yacht_notes');
  if (savedNotes) {
    notesBox.value = savedNotes;
  }

  function saveNotes() {
    localStorage.setItem('yacht_notes', notesBox.value);
    alert('ההערות נשמרו!');
  }
</script>







<div class="relative max-w-4xl mx-auto mt-12">
  <img id="yacht-image" src="https://searadar.com/uploads/boats/crop/1000/1000/12d/4b/38411-884087-sunsail-454l.jpg" alt="Yacht Layout" class="w-full block" />
  <canvas id="drawing-canvas" class="absolute top-0 left-0 w-full h-full"></canvas>
</div>

<button onclick="clearDrawing()" class="block mx-auto mt-4 px-4 py-2 bg-red-600 text-white rounded">
  נקה ציור
</button>

<script>
  const canvas = document.getElementById("drawing-canvas");
  const img = document.getElementById("yacht-image");
  const ctx = canvas.getContext("2d");

  function resizeCanvas() {
    canvas.width = img.clientWidth;
    canvas.height = img.clientHeight;

    // Reload saved image when resizing
    const savedImage = localStorage.getItem("yacht_canvas_drawing");
    if (savedImage) {
      const image = new Image();
      image.onload = () => ctx.drawImage(image, 0, 0, canvas.width, canvas.height);
      image.src = savedImage;
    }
  }

  img.onload = resizeCanvas;
  window.onresize = resizeCanvas;

  let drawing = false;

  function getXY(e) {
    const rect = canvas.getBoundingClientRect();
    if (e.touches) {
      return {
        x: e.touches[0].clientX - rect.left,
        y: e.touches[0].clientY - rect.top
      };
    } else {
      return {
        x: e.clientX - rect.left,
        y: e.clientY - rect.top
      };
    }
  }

  function draw(e) {
    if (!drawing) return;
    e.preventDefault();
    const { x, y } = getXY(e);
    ctx.fillStyle = "red";
    ctx.beginPath();
    ctx.arc(x, y, 2.5, 0, 2 * Math.PI);
    ctx.fill();
    saveDrawing(); // save each time you draw
  }

  function saveDrawing() {
    const dataURL = canvas.toDataURL();
    localStorage.setItem("yacht_canvas_drawing", dataURL);
  }

  function clearDrawing() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    localStorage.removeItem("yacht_canvas_drawing");
  }

  canvas.addEventListener("mousedown", () => (drawing = true));
  canvas.addEventListener("mouseup", () => (drawing = false));
  canvas.addEventListener("mouseout", () => (drawing = false));
  canvas.addEventListener("mousemove", draw);

  canvas.addEventListener("touchstart", () => (drawing = true));
  canvas.addEventListener("touchend", () => (drawing = false));
  canvas.addEventListener("touchcancel", () => (drawing = false));
  canvas.addEventListener("touchmove", draw);

  // Expose clear function for button
  window.clearDrawing = clearDrawing;
</script>


</body>
</html>
